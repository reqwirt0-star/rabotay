<!DOCTYPE html> 
<html lang="ru"> 
<head> 
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>ChaterLab Quick Replies</title> 
    <link rel="preconnect" href="https://fonts.googleapis.com"> 
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> 
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet"> 
    <style> 
        /* –í–∞—à–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–¥ —Ç–µ–º–Ω—É—é —Ç–µ–º—É */
        :root { 
            --primary-blue: #007aff; 
            --primary-blue-hover: #005ecb; 
            --light-blue-bg: #f0f7ff; 
            --text-primary: #2c2c2e; 
            --text-secondary: #636366; 
            --background-main: #f8f8fa; 
            --background-card: #ffffff; 
            --border-color: #e5e5e9; 
            --shadow-color: rgba(0, 122, 255, 0.1); 
            --success-color: #34c759;
            --confirm-color: rgba(175, 187, 217, 0.9); /* –ù–û–í–´–ô –¶–í–ï–¢ –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–Ø (afbbd9) —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é */
            --error-color: #ff3b30; 
            --star-color: #ffcc00; 
        } 

        body.dark-mode { 
            --light-blue-bg: #2c2c2e; 
            --text-primary: #f2f2f7; 
            --text-secondary: #98989d; 
            --background-main: #1c1c1e; 
            --background-card: #2c2c2e; 
            --border-color: #48484a; 
            --shadow-color: rgba(0, 122, 255, 0.2); 
        } 

        body { 
            margin: 0; 
            font-family: 'Inter', system-ui, sans-serif; 
            background-color: var(--background-main); 
            color: var(--text-primary); 
            height: 100%; 
            transition: background-color 0.3s, color 0.3s; 
        } 
        
        .login-active { overflow: hidden; height: 100vh; } 
        #app-container { flex-direction: column; min-height: 100vh; opacity: 0; transition: opacity 0.5s ease-in-out; } 
        #app-container:not([data-logged="true"]) { display: none; }

        #animation-overlay { 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            background-color: var(--background-main); 
            display: none; 
            justify-content: center; 
            align-items: center; 
            z-index: 3000; 
            opacity: 1;
            transition: opacity 0.5s ease-out;
        } 
        .animation-content h1 { font-size: 48px; color: var(--primary-blue); letter-spacing: -1px; font-weight: 600; opacity: 0; } 
        
        /* FIX –ê–ù–ò–ú–ê–¶–ò–ò: –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º, —á—Ç–æ –∞–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è */
        #animation-overlay.animate .animation-content h1 { 
            animation: fadeInOut 2.5s ease-in-out forwards; 
        } 
        
        /* FIX –ê–ù–ò–ú–ê–¶–ò–ò: –î–æ–±–∞–≤–ª—è–µ–º opacity: 0, —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –æ–≤–µ—Ä–ª–µ–π –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω, –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ */
        #animation-overlay:not(.animate) .animation-content h1 { opacity: 0; }
        
        @keyframes fadeInOut { 0%{opacity:0;transform:scale(.95)} 20%{opacity:1;transform:scale(1)} 80%{opacity:1;transform:scale(1)} 100%{opacity:0;transform:scale(.95)} } 

        header { text-align: center; padding: 18px 20px; font-size: 24px; font-weight: 600; border-bottom: 1px solid var(--border-color); letter-spacing: -0.5px; background-color: var(--background-card); transition: background-color 0.3s, border-color 0.3s; } 
        
        main { display: flex; flex: 1; flex-wrap: wrap; overflow: hidden; } 
        
        .sidebar { width: 320px; min-width: 280px; padding: 20px; border-right: 1px solid var(--border-color); background-color: var(--background-card); box-sizing: border-box; display: flex; flex-direction: column; transition: background-color 0.3s, border-color 0.3s; } 
        
        .sidebar > div:first-child { 
            flex-grow: 1;
        }
        
        .sidebar h2 { font-size: 16px; margin-bottom: 12px; font-weight: 600; margin-top: 20px; color: var(--text-secondary); padding-left: 5px; } 
        .sidebar h2:first-of-type { margin-top: 0; } 
        .sidebar-divider { border: 0; height: 1px; background-color: var(--border-color); margin: 20px 0; transition: background-color 0.3s; } 
        .sidebar-footer { margin-top: auto; flex-shrink: 0; } 
        
        .sidebar-section { display: flex; flex-direction: column; } 
        
        .sidebar button { display: flex; align-items: center; gap: 12px; width: 100%; padding: 12px; margin-bottom: 10px; background-color: var(--background-card); border: 1px solid var(--border-color); border-radius: 10px; font-size: 15px; font-weight: 500; text-align: left; color: var(--text-primary); cursor: pointer; transition: all 0.2s ease; } 
        .sidebar button:hover { border-color: var(--primary-blue); color: var(--primary-blue); background-color: var(--light-blue-bg); transform: translateY(-2px); box-shadow: 0 4px 12px var(--shadow-color); } 
        .sidebar button svg { width: 20px; height: 20px; flex-shrink: 0; stroke-width: 1.5; color: var(--text-secondary); transition: color 0.2s ease; } 
        .sidebar button:hover svg { color: var(--primary-blue); } 
        .sidebar button .lang-marker { margin-left: auto; font-size: 12px; font-weight: 600; color: var(--text-secondary); background-color: #f0f0f2; padding: 2px 6px; border-radius: 5px; } 
        body.dark-mode .sidebar button .lang-marker { background-color: #48484a; } 
        
        /* –°–¢–ò–õ–ò –î–õ–Ø –í–ò–ó–£–ê–õ–¨–ù–û–ì–û –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–Ø */
        .sidebar button.copied {
            background-color: var(--confirm-color); /* –°–≤–µ—Ç–ª–æ-–ª–∞–≤–∞–Ω–¥–æ–≤—ã–π —Ñ–æ–Ω */
            color: var(--text-primary) !important; /* –¢—ë–º–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞ */
            border-color: var(--confirm-color);
            transform: none; 
            box-shadow: none; 
        }
        .sidebar button.copied svg {
            color: var(--text-primary) !important;
        }
        .sidebar button.copied:hover {
            background-color: var(--confirm-color); 
            color: var(--text-primary); 
            border-color: var(--confirm-color);
            transform: none; 
            box-shadow: none; 
        }
        /* –ö–û–ù–ï–¶ –°–¢–ò–õ–ï–ô –í–ò–ó–£–ê–õ–¨–ù–û–ì–û –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–Ø */

        .favorite-toggle { cursor: pointer; padding: 5px; margin-left: auto; line-height: 0; } 
        .favorite-toggle svg { width: 18px; height: 18px; stroke: var(--text-secondary); fill: none; transition: all 0.2s ease; } 
        .favorite-toggle:hover svg { stroke: var(--star-color); } 
        .favorite-toggle.is-favorite svg { stroke: var(--star-color); fill: var(--star-color); } 
        
        .search-container { position: relative; margin-bottom: 20px; } 
        #searchInput { width: 100%; padding: 10px 15px 10px 40px; border-radius: 10px; border: 1px solid var(--border-color); background-color: var(--background-main); font-size: 15px; color: var(--text-primary); transition: all 0.2s ease; } 
        #searchInput:focus { border-color: var(--primary-blue); box-shadow: 0 0 0 3px var(--shadow-color); outline: none; } 
        .search-container::before { content: 'üîç'; position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: var(--text-secondary); } 

        .info { flex: 1; padding: 30px; overflow-y: auto; } 
        .info h3 { font-size: 24px; font-weight: 600; margin-bottom: 15px; } 
        .info p { font-size: 16px; line-height: 1.6; margin-bottom: 25px; color: var(--text-secondary); } 
        .toggle { display: inline-flex; background-color: var(--border-color); border-radius: 9px; padding: 4px; margin-bottom: 25px; transition: background-color 0.3s; } 
        .toggle button { padding: 6px 16px; border: none; background: transparent; cursor: pointer; font-size: 14px; font-weight: 500; border-radius: 7px; margin: 0; color: var(--text-secondary); transition: all 0.25s ease; } 
        .toggle button.active { background: var(--background-card); color: var(--text-primary); box-shadow: 0 0 0 1px var(--border-color), 0 1px 4px rgba(0,0,0,0.08); } 
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–¥ –æ–±—â—É—é —Ç–µ–º—É */
        .instructions { margin-top: 40px; } 
        .step { background: var(--background-card); border-radius: 12px; padding: 25px; margin-bottom: 20px; border: 1px solid var(--border-color); transition: background-color 0.3s, border-color 0.3s; } 
        .step h4 { margin: 0 0 15px; font-size: 18px; font-weight: 600; color: var(--primary-blue); display: flex; align-items: center; gap: 12px; } 
        .step-number { display: flex; align-items: center; justify-content: center; width: 28px; height: 28px; background-color: var(--light-blue-bg); color: var(--primary-blue); border-radius: 50%; font-size: 14px; font-weight: 600; flex-shrink: 0; } 
        .step ul, .step ol { 
            padding-left: 20px; 
            margin: 10px 0; 
            color: var(--text-secondary); 
            line-height: 1.7; 
            word-break: break-word; 
        } 
        .step ul li::marker, .step ol li::marker { font-weight: 500; } 
        .step li strong { color: var(--text-primary); }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ç–∞–±–ª–∏—Ü */
        .instructions table { width: 100%; border-collapse: collapse; margin-top: 15px; min-width: 600px; } 
        .instructions table th, .instructions table td { border: 1px solid var(--border-color); padding: 10px 12px; font-size: 14px; text-align: left; } 
        .instructions table th { background: var(--light-blue-bg); font-weight: 500; } 

        /* –ú–æ–±–∏–ª—å–Ω—ã–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–∫—Ä—ã—Ç –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ) */
        .mobile-switcher { display: none; background-color: var(--background-card); border-bottom: 1px solid var(--border-color); padding: 0 10px; text-align: center; } 
        .mobile-switcher-inner { display: flex; } 
        .mobile-switcher button { flex: 1; padding: 14px 0; border: none; border-bottom: 3px solid transparent; background-color: transparent; font-size: 15px; cursor: pointer; font-weight: 600; color: var(--text-secondary); transition: all 0.25s ease; } 
        .mobile-switcher button.active { color: var(--primary-blue); border-bottom-color: var(--primary-blue); } 

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ */
        @media (max-width: 768px) {
            header { font-size: 20px; padding: 15px; } 
            
            /* FIX: –ú–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ —Å –≤—ã—Å–æ—Ç–æ–π –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ —Å–∫—Ä–æ–ª–ª–∞ –Ω–∞ iOS */
            #app-container {
                height: 100vh;
                overflow: hidden; 
            }
            main { 
                flex-direction: column; 
                flex-grow: 1; 
                height: calc(100% - 51px - 44px); 
            } 
            
            /* FIX: –ú–æ–±–∏–ª—å–Ω—ã–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
            .mobile-switcher { 
                display: flex; 
                justify-content: space-between; 
                align-items: center; 
            } 
            
            /* –°–∫—Ä—ã–≤–∞–µ–º/–ø–æ–∫–∞–∑—ã–≤–∞–µ–º –±–ª–æ–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –Ω–∞ main */
            .sidebar, .info {
                width: 100%;
                min-width: unset;
                padding: 15px; 
                border-right: none;
                border-bottom: 1px solid var(--border-color);
                display: none; 
                height: 100%;
                /* FIX iOS: –ò–∑–æ–ª–∏—Ä—É–µ–º –ø—Ä–æ–∫—Ä—É—Ç–∫—É –≤ —ç—Ç–∏—Ö –±–ª–æ–∫–∞—Ö */
                overflow-y: auto; 
                -webkit-overflow-scrolling: touch; 
            }

            /* FIX: –£–±–∏—Ä–∞–µ–º –ø–∞–¥–¥–∏–Ω–≥ —Å–Ω–∏–∑—É —É —Å–∞–π–¥–±–∞—Ä–∞, —Ç.–∫. —Ñ—É—Ç–µ—Ä —Ç–µ–ø–µ—Ä—å –≤–Ω—É—Ç—Ä–∏ —Å–∫—Ä–æ–ª–ª–∞ */
            .sidebar { 
                padding-bottom: 0; 
            }

            /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä main —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–º, —á—Ç–æ –≤–∏–¥–Ω–æ */
            main.sidebar-visible .sidebar {
                display: flex;
            }
            main.info-visible .info {
                display: block;
            }
            
            /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Ç–∞–±–ª–∏—Ü */
            .instructions table { display: block; border: none; }
            .instructions table thead, .instructions table tr:first-child { display: none; }
            .instructions table tr { display: block; margin-bottom: 15px; border: 1px solid var(--border-color); border-radius: 8px; background-color: var(--background-card); }
            .instructions table td { 
                display: block; 
                border: none; 
                padding: 12px 10px; 
                font-size: 15px; 
                text-align: right; 
                position: relative;
                word-break: break-all; /* FIX: –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ–Ω–æ—Å –¥–ª–∏–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫ */
            }
            .instructions table td::before {
                content: attr(data-label);
                position: absolute;
                left: 10px;
                width: 40%; 
                text-align: left;
                font-weight: 600;
                color: var(--primary-blue);
            }
        } 

        
        .toast-notification { 
            position: fixed; 
            bottom: 20px; 
            left: 50%; 
            transform: translateX(-50%); 
            background-color: var(--confirm-color); /* FIX: –ù–æ–≤—ã–π —Ü–≤–µ—Ç */
            color: var(--text-primary); /* FIX: –¢—ë–º–Ω—ã–π —Ç–µ–∫—Å—Ç */
            padding: 12px 20px; 
            border-radius: 10px; 
            opacity: 0; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.15); 
            transition: all 0.3s ease-in-out; 
            z-index: 1000; 
            font-size: 15px; 
            font-weight: 500; 
            pointer-events: none; 
            white-space: nowrap; 
        } 
        .toast-notification.show { 
            opacity: 1; 
            transform: translateX(-50%) translateY(0); 
            pointer-events: auto;
        } 

        #login-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; z-index: 2000; overflow: hidden; } 
        .login-background { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(315deg, #007aff, #5856d6, #ff2d55, #ff9500); background-size: 400% 400%; animation: gradientAnimation 20s ease infinite; z-index: 1; } 
        @keyframes gradientAnimation { 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} } 
        
        .login-form-container { background: rgba(255,255,255,0.85); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); padding: 40px; border-radius: 16px; box-shadow: 0 8px 30px rgba(0,0,0,0.1); width: 340px; max-width: 90%; text-align: center; transition: opacity 0.4s ease-out; z-index: 2; border: 1px solid rgba(255,255,255,0.2); } 
        .dark-mode .login-form-container { background: rgba(28, 28, 30, 0.85); border: 1px solid rgba(255,255,255,0.1); } 
        
        .login-form-container h1 { font-size: 28px; font-weight: 600; color: var(--primary-blue); margin-top: 0; margin-bottom: 8px; } 
        .login-form-container p { margin-top: 0; margin-bottom: 25px; color: var(--text-secondary); } 
        
        .login-lang-switcher { display: flex; justify-content: center; margin-bottom: 25px; background-color: rgba(0,0,0,0.05); border-radius: 10px; padding: 4px; } 
        .dark-mode .login-lang-switcher { background-color: rgba(255,255,255,0.1); } 
        .login-lang-switcher button { flex: 1; padding: 8px; border: none; background-color: transparent; border-radius: 8px; font-size: 14px; font-weight: 600; color: var(--text-secondary); cursor: pointer; transition: all 0.25s ease; } 
        .login-lang-switcher button.active { background-color: var(--background-card); color: var(--primary-blue); box-shadow: 0 2px 5px rgba(0,0,0,0.08); } 

        .login-form-container input { width: 100%; padding: 14px; margin-bottom: 15px; border: 1px solid var(--border-color); border-radius: 10px; box-sizing: border-box; font-size: 16px; transition: all 0.2s ease; background-color: var(--background-card); color: var(--text-primary); } 
        .login-form-container input:focus { border-color: var(--primary-blue); box-shadow: 0 0 0 3px var(--shadow-color); outline: none; } 
        .login-form-container button[type="submit"] { width: 100%; padding: 14px; background-color: var(--primary-blue); color: #fff; border: none; border-radius: 10px; font-size: 16px; font-weight: 500; cursor: pointer; transition: background 0.2s; } 
        .login-form-container button[type="submit"]:hover { background-color: var(--primary-blue-hover); } 
        #login-error { color: #fff; background-color: var(--error-color); padding: 12px; border-radius: 8px; margin-top: 20px; font-size: 14px; font-weight: 500; opacity: 0; transform: translateY(10px); transition: opacity 0.3s ease, transform 0.3s ease; pointer-events: none; } 
        #login-error.show { opacity: 1; transform: translateY(0); pointer-events: auto; } 

        /* Dark Mode Toggle Switch */ 
        .theme-switch-wrapper { display: flex; align-items: center; justify-content: space-between; padding: 10px 5px; } 
        .theme-switch-label { font-weight: 500; color: var(--text-secondary); } 
        .theme-switch { display: inline-block; height: 26px; position: relative; width: 50px; } 
        .theme-switch input { display:none; } 
        .slider { background-color: #ccc; bottom: 0; cursor: pointer; left: 0; position: absolute; right: 0; top: 0; transition: .4s; } 
        .slider:before { background-color: #fff; bottom: 4px; content: ""; height: 18px; left: 4px; position: absolute; transition: .4s; width: 18px; } 
        input:checked + .slider { background-color: var(--primary-blue); } 
        input:checked + .slider:before { transform: translateX(24px); } 
        .slider.round { border-radius: 34px; } 
        .slider.round:before { border-radius: 50%; } 
    </style> 
</head> 
<body class="login-active"> 

    <div id="animation-overlay"> 
        <div class="animation-content"><h1>ChaterLab</h1></div> 
    </div> 

    <div id="login-screen"> 
        <div class="login-background"></div> 
        <div class="login-form-container"> 
            <h1 data-key="loginHeader">ChaterLab</h1> 
            <p data-key="loginSubheader">–ü–∞–Ω–µ–ª—å –±—ã—Å—Ç—Ä—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤</p> 
            <div class="login-lang-switcher"> 
                <button id="login-lang-ru" onclick="switchLanguage('ru')">RU</button> 
                <button id="login-lang-uk" onclick="switchLanguage('uk')">UA</button> 
                <button id="login-lang-en" onclick="switchLanguage('en')">ENG</button> 
            </div> 
            <form id="login-form"> 
                <input type="text" id="login-username" data-key="loginPlaceholder" required placeholder="–õ–æ–≥–∏–Ω"> 
                <input type="password" id="login-password" data-key="passwordPlaceholder" required placeholder="–ü–∞—Ä–æ–ª—å"> 
                <button type="submit" data-key="loginButton">–í–æ–π—Ç–∏</button> 
                <div id="login-error"></div> 
            </form> 
        </div> 
    </div> 

    <div id="app-container" data-logged="false"> 
        <header data-key="appHeader">ChaterLab Quick Replies</header> 
        
        <div class="mobile-switcher" id="mobileSwitcher"> 
            <div class="mobile-switcher-inner"> 
                <button id="switchButtons" class="active" onclick="toggleMobileView('buttons')">–û—Ç–≤–µ—Ç—ã</button> 
                <button id="switchInstructions" onclick="toggleMobileView('instructions')">–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</button> 
            </div> 
        </div> 

        <main class="sidebar-visible"> 
            <div class="sidebar" id="sidebarBlock"> 
                
                <div> 
                    <div class="search-container"> 
                        <input type="search" id="searchInput" data-key="searchPlaceholder" placeholder="–ü–æ–∏—Å–∫..."> 
                    </div> 
                    <div class="sidebar-section" id="eng-section"> 
                        <h2 data-key="englishSection">English Content</h2> 
                    </div> 

                    <div class="sidebar-section" id="ru-section"> 
                        <h2 data-key="russianSection">–†—É—Å—Å–∫–∏–π</h2> 
                    </div> 
                </div> 
                
                <div class="sidebar-footer"> 
                    <hr class="sidebar-divider"> 
                    <div class="theme-switch-wrapper"> 
                        <div class="theme-switch-label" data-key="darkModeLabel">–¢—ë–º–Ω–∞—è —Ç–µ–º–∞</div> 
                        <label class="theme-switch" for="theme-checkbox"> 
                            <input type="checkbox" id="theme-checkbox" /> 
                            <div class="slider round"></div> 
                        </label> 
                    </div> 
                    <button onclick="logout()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><path d="M16 17l5-5-5-5"/><path d="M21 12H9"/></svg><span data-key="logoutButtonText">–í—ã–π—Ç–∏</span></button> 
                </div> 
            </div> 

            <div class="info" id="infoBlock"> 
                <div class="toggle"> 
                    <button id="btnEN" onclick="switchLanguage('en')">EN</button> 
                    <button id="btnUA" onclick="switchLanguage('uk')">UA</button> 
                    <button id="btnRU" onclick="switchLanguage('ru')">RU</button> 
                </div> 
                <h3 id="infoHeader" data-key="aboutHeader"></h3> 
                <p id="infoText" data-key="aboutText"></p> 
                <div class="instructions" id="instructions"></div> 
            </div> 
        </main> 
    </div> 
    <div id="toast" class="toast-notification"></div> 

    <script type="module"> 
        "use strict"; 
        
        // --- –®–ê–ì 1: –ò–ú–ü–û–†–¢–ò–†–£–ï–ú –î–ê–ù–ù–´–ï –ò–ó data.js ---
        import { appData } from './data.js';

        // =================================================================================== 
        // GLOBAL STATE & UTILITIES 
        // =================================================================================== 
        let currentLang = 'ru'; 
        const templateIndexes = { en: {}, ru: {}, uk: {} }; 
        const copySvg = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg>';
        const starSvg = '<svg viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg>';


        function getLocalStorage(key, defaultValue) { 
            try { 
                const storedValue = localStorage.getItem(key); 
                return storedValue ? JSON.parse(storedValue) : defaultValue; 
            } catch (e) { 
                console.error("Error reading from localStorage", e); 
                return defaultValue; 
            } 
        } 

        function setLocalStorage(key, value) { 
            try { 
                localStorage.setItem(key, JSON.stringify(value)); 
            } catch (e) { 
                console.error("Error writing to localStorage", e); 
            } 
        } 
        
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.style.opacity = 0; 
            void toast.offsetHeight; 
            
            toast.classList.add('show');
            if (navigator.vibrate) navigator.vibrate(50);
            setTimeout(() => {
                toast.classList.remove('show');
            }, 1500);
        }
        window.showToast = showToast; // –î–µ–ª–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω–æ–π

        // =================================================================================== 
        // AUTHENTICATION 
        // =================================================================================== 
        function checkLogin() { 
            const loggedIn = getLocalStorage('chaterlabLoggedIn', false);
            const loginScreen = document.getElementById('login-screen');
            const appContainer = document.getElementById('app-container');

            if (loggedIn) {
                loginScreen.style.display = 'none';
                document.body.classList.remove('login-active');
                appContainer.setAttribute('data-logged', 'true'); 
                appContainer.style.opacity = '1';
                appContainer.style.display = 'flex'; 
                return true;
            } else {
                loginScreen.style.display = 'flex';
                document.body.classList.add('login-active');
                appContainer.setAttribute('data-logged', 'false');
                appContainer.style.opacity = '0';
                appContainer.style.display = 'none';
                return false;
            }
        } 

        function handleLogin(event) { 
            event.preventDefault();
            const usernameInput = document.getElementById('login-username');
            const passwordInput = document.getElementById('login-password');
            const errorDiv = document.getElementById('login-error');

            const username = usernameInput.value.trim();
            const password = passwordInput.value.trim();
            
            errorDiv.classList.remove('show');
            errorDiv.textContent = '';
            
            const isValid = appData.credentials.some(cred => cred.username === username && cred.password === password);

            if (isValid) {
                setLocalStorage('chaterlabLoggedIn', true);
                document.body.classList.remove('login-active');
                document.getElementById('login-screen').style.display = 'none';
                
                const overlay = document.getElementById('animation-overlay');
                
                overlay.style.display = 'flex';
                void overlay.offsetHeight; 
                overlay.classList.add('animate'); 

                setTimeout(() => {
                    overlay.style.display = 'none';
                    overlay.classList.remove('animate'); 
                    document.getElementById('app-container').style.display = 'flex';
                    document.getElementById('app-container').setAttribute('data-logged', 'true');
                    document.getElementById('app-container').style.opacity = '1';
                    window.toggleMobileView('buttons'); 
                }, 2500); 

                window.setupDarkMode();
                window.renderFavorites();

            } else {
                errorDiv.textContent = appData.i18n[currentLang].errorInvalid;
                errorDiv.classList.add('show');
            }
        } 
        window.handleLogin = handleLogin; // –î–µ–ª–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω–æ–π

        function logout() { 
            setLocalStorage('chaterlabLoggedIn', false);
            document.getElementById('login-username').value = '';
            document.getElementById('login-password').value = '';
            document.getElementById('app-container').style.opacity = '0';
            document.getElementById('app-container').setAttribute('data-logged', 'false');
            document.getElementById('app-container').style.display = 'none';
            
            document.getElementById('login-screen').style.display = 'flex';
            document.body.classList.add('login-active');
        } 
        window.logout = logout; // –î–µ–ª–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω–æ–π

        // =================================================================================== 
        // INTERNATIONALIZATION (i18n) & UI UPDATES 
        // =================================================================================== 
        function switchLanguage(lang) { 
            currentLang = lang; 
            setLocalStorage('chaterlabLang', lang); 
            window.updateUI(lang); 
        } 
        window.switchLanguage = switchLanguage; // –î–µ–ª–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω–æ–π


        function updateUI(lang) { 
            document.querySelectorAll('[data-key]').forEach(el => { 
                const key = el.dataset.key; 
                const translation = appData.i18n[lang][key]; 
                if (translation !== undefined) { 
                    if (el.tagName === 'INPUT') el.placeholder = translation; 
                    else el.textContent = translation; 
                } 
            }); 
            document.documentElement.lang = lang; 
            document.querySelectorAll('.login-lang-switcher button').forEach(btn => btn.classList.toggle('active', btn.id.includes(`-${lang}`))); 
            
            // FIX: –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–Ω–æ–ø–æ–∫ –≤ –±–ª–æ–∫–µ .toggle (EN, UA, RU)
            document.querySelectorAll('.toggle button').forEach(btn => {
                const buttonLangCode = btn.id.replace('btn', '').toLowerCase();
                
                const isActive = (lang === 'uk' && buttonLangCode === 'ua') || buttonLangCode === lang;
                
                btn.classList.toggle('active', isActive);
            });
            
            window.updateInstructions(lang); 
            window.renderSidebarButtons(); // <--- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ –ø—Ä–∏ —Å–º–µ–Ω–µ —è–∑—ã–∫–∞
        } 
        window.updateUI = updateUI; // –î–µ–ª–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω–æ–π

        
        /**
         * –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ 
         */
        function updateInstructions(lang) {
            const instructionsDiv = document.getElementById('instructions');
            const infoHeader = document.getElementById('infoHeader');
            const infoText = document.getElementById('infoText');
            
            const i18n = appData.i18n[lang];

            // 1. –û–±–Ω–æ–≤–ª—è–µ–º header –∏ —Ç–µ–∫—Å—Ç "–û –ø–∞–Ω–µ–ª–∏"
            infoHeader.textContent = i18n.aboutHeader;
            infoText.textContent = i18n.aboutText;

            // 2. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º HTML –¥–ª—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —è–∑—ã–∫–∞
            let content;
            const isEnglish = lang === 'en';
            const isUkrainian = lang === 'uk';
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã
            const loc = (key) => appData.i18n[lang][key] || key;
            const ruText = isEnglish ? 'Russian audience' : (isUkrainian ? '–†–æ—Å—ñ–π—Å—å–∫–æ–º–æ–≤–Ω–∞ –∞—É–¥–∏—Ç–æ—Ä—ñ—è' : '–†—É—Å—Å–∫–æ—è–∑—ã—á–Ω–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è');
            const enText = isEnglish ? 'English audience' : (isUkrainian ? '–ê–Ω–≥–ª–æ–º–æ–≤–Ω–∞ –∞—É–¥–∏—Ç–æ—Ä—ñ—è' : '–ê–Ω–≥–ª–æ—è–∑—ã—á–Ω–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è');
            

            content = `
                <h3 data-key="instructionHeader">${loc('instructionHeader')}</h3>

                <div class="step">
                    <h4><span class="step-number">1</span> ${isEnglish ? 'Candidate Greeting' : (isUkrainian ? '–ü—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è –∫–∞–Ω–¥–∏–¥–∞—Ç–∞' : '–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞')}</h4>
                    <ul>
                        <li>${ruText} ‚Üí <strong>–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ (RU)</strong></li>
                        <li>${enText} ‚Üí <strong>Greeting (ENG)</strong></li>
                    </ul>
                </div>

                <div class="step">
                    <h4><span class="step-number">2</span> ${isEnglish ? 'Job Description' : (isUkrainian ? '–û–ø–∏—Å –≤–∞–∫–∞–Ω—Å—ñ—ó' : '–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏')}</h4>
                    <ul>
                        <li>${ruText} ‚Üí <strong>–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ (RU)</strong></li>
                        <li>${enText} ‚Üí <strong>Job Description (ENG)</strong></li>
                    </ul>
                    <table>
                        <thead>
                            <tr>
                                <th>${isEnglish ? 'Location' : (isUkrainian ? '–õ–æ–∫–∞—Ü—ñ—è' : '–õ–æ–∫–∞—Ü–∏—è')}</th>
                                <th>${isEnglish ? 'Experience' : (isUkrainian ? '–î–æ—Å–≤—ñ–¥' : '–û–ø—ã—Ç')}</th>
                                <th>${isEnglish ? 'Schedule' : (isUkrainian ? '–ì—Ä–∞—Ñ—ñ–∫' : '–ì—Ä–∞—Ñ–∏–∫')}</th>
                                <th>${isEnglish ? 'Button' : (isUkrainian ? '–ö–Ω–æ–ø–∫–∞' : '–ö–Ω–æ–ø–∫–∞')}</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td data-label="${isEnglish ? 'Location' : (isUkrainian ? '–õ–æ–∫–∞—Ü—ñ—è' : '–õ–æ–∫–∞—Ü–∏—è')}">–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω</td>
                                <td data-label="${isEnglish ? 'Experience' : (isUkrainian ? '–î–æ—Å–≤—ñ–¥' : '–û–ø—ã—Ç')}">${isEnglish ? 'Basic / No experience' : (isUkrainian ? '–ë–µ–∑ –¥–æ—Å–≤—ñ–¥—É / –±–∞–∑–æ–≤–∏–π' : '–ë–µ–∑ –æ–ø—ã—Ç–∞ / –±–∞–∑–æ–≤—ã–π')}</td>
                                <td data-label="${isEnglish ? 'Schedule' : (isUkrainian ? '–ì—Ä–∞—Ñ—ñ–∫' : '–ì—Ä–∞—Ñ–∏–∫')}">08:00‚Äì16:00, 16:00‚Äì00:00, 00:00‚Äì08:00 (Kyiv time)</td>
                                <td data-label="${isEnglish ? 'Button' : (isUkrainian ? '–ö–Ω–æ–ø–∫–∞' : '–ö–Ω–æ–ø–∫–∞')}">${isEnglish ? 'Job Description (ENG)' : '–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ (RU)'}</td>
                            </tr>
                            <tr>
                                <td data-label="${isEnglish ? 'Location' : (isUkrainian ? '–õ–æ–∫–∞—Ü—ñ—è' : '–õ–æ–∫–∞—Ü–∏—è')}">–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω</td>
                                <td data-label="${isEnglish ? 'Experience' : (isUkrainian ? '–î–æ—Å–≤—ñ–¥' : '–û–ø—ã—Ç')}">${isEnglish ? 'Prime experience' : (isUkrainian ? '–î–æ—Å–≤—ñ–¥ –ü—Ä–∞–π–º–∞' : '–û–ø—ã—Ç –ü—Ä–∞–π–º–∞')}</td>
                                <td data-label="${isEnglish ? 'Schedule' : (isUkrainian ? '–ì—Ä–∞—Ñ—ñ–∫' : '–ì—Ä–∞—Ñ–∏–∫')}">14:00‚Äì22:00, 22:00‚Äì06:00 (Kyiv time)</td>
                                <td data-label="${isEnglish ? 'Button' : (isUkrainian ? '–ö–Ω–æ–ø–∫–∞' : '–ö–Ω–æ–ø–∫–∞')}">${isEnglish ? 'Job Description (Prime) (ENG)' : '–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏. –° –æ–ø—ã—Ç–æ–º –ü—Ä–∞–π–º–∞ (RU)'}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="step">
                    <h4><span class="step-number">3</span> ${isEnglish ? 'Test Assignment' : (isUkrainian ? '–¢–µ—Å—Ç–æ–≤–µ –∑–∞–≤–¥–∞–Ω–Ω—è' : '–¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ')}</h4>
                    <ul>
                        <li>${ruText} ‚Üí <strong>–§–ª–∏—Ä—Ç-–∑–∞–¥–∞–Ω–∏–µ (RU)</strong></li>
                        <li>${enText} ‚Üí <strong>Flirt Closing (ENG)</strong></li>
                    </ul>
                </div>

                <div class="step">
                    <h4><span class="step-number">4</span> ${isEnglish ? 'Handling Applications & Documentation' : (isUkrainian ? '–†–æ–±–æ—Ç–∞ —ñ–∑ –∑–∞—è–≤–∫–∞–º–∏ —Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—î—é' : '–†–∞–±–æ—Ç–∞ —Å –∑–∞—è–≤–∫–∞–º–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π')}</h4>
                    <ol>
                        <li>${isEnglish ? 'All applications are logged in the' : (isUkrainian ? '–£—Å—ñ –∑–∞—è–≤–∫–∏ —Ñ—ñ–∫—Å—É—é—Ç—å—Å—è –≤ —Ç–∞–±–ª–∏—Ü—ñ' : '–í—Å–µ –∑–∞—è–≤–∫–∏ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ')} <strong>–õ–ò–î–´</strong>.</li>
                        <li>${isEnglish ? 'After completing the test and choosing a schedule ‚Üí provide the manager contact.' : (isUkrainian ? '–ü—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ç–µ—Å—Ç—É —Ç–∞ –≤–∏–±–æ—Ä—É –≥—Ä–∞—Ñ—ñ–∫—É ‚Üí –≤–∏–¥–∞—î–º–æ –∫–æ–Ω—Ç–∞–∫—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞.' : '–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–∞ –∏ –≤—ã–±–æ—Ä–∞ –≥—Ä–∞—Ñ–∏–∫–∞ ‚Üí –≤—ã–¥–∞—ë–º –∫–æ–Ω—Ç–∞–∫—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞.')}</li>
                        <li>${isEnglish ? 'Send in the work Telegram group:' : (isUkrainian ? '–ù–∞–¥—Å–∏–ª–∞—î–º–æ –≤ —Ä–æ–±–æ—á—É Telegram-–≥—Ä—É–ø—É:' : '–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ —Ä–∞–±–æ—á—É—é Telegram-–≥—Ä—É–ø—É:')}
                            <ul>
                                <li>${isEnglish ? 'Screenshot of the completed test' : (isUkrainian ? '–°–∫—Ä—ñ–Ω –≤–∏–∫–æ–Ω–∞–Ω–æ–≥–æ —Ç–µ—Å—Ç—É' : '–°–∫—Ä–∏–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞')}</li>
                                <li>${isEnglish ? 'Below it: candidate contacts, schedule, assigned manager' : (isUkrainian ? '–ü–æ–¥–ø–∏—Å—å: –∫–æ–Ω—Ç–∞–∫—Ç—ã –∫–∞–Ω–¥–∏–¥–∞—Ç–∞, –≥—Ä–∞—Ñ–∏–∫, –∫–æ–Ω—Ç–∞–∫—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞' : '–ü–æ–¥–ø–∏—Å—å: –∫–æ–Ω—Ç–∞–∫—Ç—ã –∫–∞–Ω–¥–∏–¥–∞—Ç–∞, –≥—Ä–∞—Ñ–∏–∫, –∫–æ–Ω—Ç–∞–∫—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞')}</li>
                            </ul>
                        </li>
                        <li>${isEnglish ? 'Documentation in Google Sheets:' : (isUkrainian ? '–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —É Google Sheets:' : '–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ Google Sheets:')}
                            <ul>
                                <li>${isEnglish ? 'Philippines' : (isUkrainian ? '–§—ñ–ª—ñ–ø–ø—ñ–Ω–∏' : '–§–∏–ª–∏–ø–ø–∏–Ω—ã')} ‚Üí <strong>Chathouse Philippines</strong></li>
                                <li>${isEnglish ? 'Kazakhstan' : (isUkrainian ? '–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω' : '–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω')} ‚Üí <strong>Chathouse</strong></li>
                                <li>${isEnglish ? 'Tab: <strong>Interns</strong>' : (isUkrainian ? '–í–∫–ª–∞–¥–∫–∞: <strong>–°—Ç–∞–∂–∏—Å—Ç–∏</strong>' : '–í–∫–ª–∞–¥–∫–∞: <strong>–°—Ç–∞–∂—ë—Ä—ã</strong>')}</li>
                                <li>${isEnglish ? 'Fill: Date, Candidate contact, Schedule, Manager' : (isUkrainian ? '–ó–∞–ø–æ–≤–Ω—é—î–º–æ: –î–∞—Ç–∞, –ö–æ–Ω—Ç–∞–∫—Ç, –ì—Ä–∞—Ñ—ñ–∫, –ú–µ–Ω–µ–¥–∂–µ—Ä' : '–ó–∞–ø–æ–ª–Ω—è–µ–º: –î–∞—Ç–∞, –ö–æ–Ω—Ç–∞–∫—Ç, –ì—Ä–∞—Ñ–∏–∫, –ú–µ–Ω–µ–¥–∂–µ—Ä')}</li>
                                <li>${isEnglish ? 'Status ‚Üí "assigned to admin"' : (isUkrainian ? '–°—Ç–∞—Ç—É—Å ‚Üí ¬´–ø–µ—Ä–µ–¥–∞–Ω–æ –∞–¥–º—ñ–Ω—É¬ª' : '–°—Ç–∞—Ç—É—Å ‚Üí ¬´–ø–µ—Ä–µ–¥–∞–Ω –∞–¥–º–∏–Ω—É¬ª')}</li>
                            </ul>
                        </li>
                    </ol>
                </div>

                <div class="step">
                    <h4><span class="step-number">5</span> ${isEnglish ? 'Manager Contacts' : (isUkrainian ? '–ö–æ–Ω—Ç–∞–∫—Ç–∏ –º–µ–Ω–µ–¥–∂–µ—Ä—ñ–≤' : '–ö–æ–Ω—Ç–∞–∫—Ç—ã –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤')}</h4>
                    <table>
                        <thead>
                            <tr><th>${isEnglish ? 'Location' : (isUkrainian ? '–õ–æ–∫–∞—Ü—ñ—è' : '–õ–æ–∫–∞—Ü–∏—è')}</th><th>${isEnglish ? 'Contacts' : (isUkrainian ? '–ö–æ–Ω—Ç–∞–∫—Ç–∏' : '–ö–æ–Ω—Ç–∞–∫—Ç—ã')}</th></tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td data-label="${isEnglish ? 'Location' : (isUkrainian ? '–õ–æ–∫–∞—Ü—ñ—è' : '–õ–æ–∫–∞—Ü–∏—è')}">${isEnglish ? 'Philippines' : (isUkrainian ? '–§—ñ–ª—ñ–ø–ø—ñ–Ω–∏' : '–§–∏–ª–∏–ø–ø–∏–Ω—ã')}</td>
                                <td data-label="${isEnglish ? 'Contacts' : (isUkrainian ? '–ö–æ–Ω—Ç–∞–∫—Ç–∏' : '–ö–æ–Ω—Ç–∞–∫—Ç—ã')}">Telegram: @strighik / WhatsApp: +380990650264<br>Telegram: @jszmn1827 / WhatsApp: +639260025915</td>
                            </tr>
                            <tr>
                                <td data-label="${isEnglish ? 'Location' : (isUkrainian ? '–õ–æ–∫–∞—Ü—ñ—è' : '–õ–æ–∫–∞—Ü–∏—è')}">${isEnglish ? 'Kazakhstan (Prime)' : (isUkrainian ? '–î–æ—Å–≤—ñ–¥ –ü—Ä–∞–π–º–∞' : '–û–ø—ã—Ç –ü—Ä–∞–π–º–∞')}</td>
                                <td data-label="${isEnglish ? 'Contacts' : (isUkrainian ? '–ö–æ–Ω—Ç–∞–∫—Ç–∏' : '–ö–æ–Ω—Ç–∞–∫—Ç—ã')}">Telegram: @sandra01075 / WhatsApp: -</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            `;
            instructionsDiv.innerHTML = content;
        }
        window.updateInstructions = updateInstructions; // –î–µ–ª–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω–æ–π

        // =================================================================================== 
        // CORE FUNCTIONALITY: COPY, SEARCH, FAVORITES, STATS 
        // =================================================================================== 
        function copyAndCycle(lang, type, buttonId) { 
            // –ü–æ–ª—É—á–∞–µ–º –¥–æ—Å—Ç—É–ø –∫ appData —á–µ—Ä–µ–∑ –∏–º–ø–æ—Ä—Ç
            const templates = appData.templates[lang]; 
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞ –∏ —Ç–∏–ø–∞, –ø—Ä–µ–∂–¥–µ —á–µ–º –ø—ã—Ç–∞—Ç—å—Å—è —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å
            if (!templates || !templates[type] || templates[type].length === 0) {
                if (lang === 'uk') {
                     window.showToast(appData.i18n[currentLang].toastMessage + " (–ö–æ–Ω—Ç–µ–Ω—Ç UA –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω)");
                } else {
                     window.showToast(`Error: Content for ${lang} not found.`);
                }
                return;
            }

            const templateArray = templates[type];
            // FIX: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∏–Ω–¥–µ–∫—Å, –µ—Å–ª–∏ –æ–Ω –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
            if (!templateIndexes[lang]) templateIndexes[lang] = {};
            if (templateIndexes[lang][type] === undefined) templateIndexes[lang][type] = 0;
            
            let currentIndex = templateIndexes[lang][type];

            const textToCopy = templateArray[currentIndex]; 
            const successMessage = `${appData.i18n[currentLang].toastMessage} (${currentIndex + 1}/${templateArray.length})`; 
            
            // –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç –∫–Ω–æ–ø–∫–∏
            const buttonElement = document.getElementById(buttonId);

            navigator.clipboard.writeText(textToCopy).then(() => { 
                window.showToast(successMessage); 
                window.trackClick(buttonId); 
                
                // === –õ–û–ì–ò–ö–ê –î–õ–Ø –í–ò–ó–£–ê–õ–¨–ù–û–ì–û –§–ò–î–ë–ï–ö–ê ===
                if (buttonElement) {
                    buttonElement.classList.add('copied');
                    setTimeout(() => {
                        buttonElement.classList.remove('copied');
                    }, 300); 
                }
                // ===========================================
                
            }).catch(() => window.showToast('Error copying')); 
            
            // –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–∞—Ä–∏–∞–Ω—Ç—É
            templateIndexes[lang][type] = (currentIndex + 1) % templateArray.length; 
        } 
        window.copyAndCycle = copyAndCycle; // –î–µ–ª–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω–æ–π
        
        function handleSearch(event) { 
            const query = event.target.value.toLowerCase(); 
            document.querySelectorAll('.sidebar-section').forEach(section => { 
                let visibleButtons = 0; 
                section.querySelectorAll('button').forEach(button => { 
                    const span = button.querySelector('span[data-key]');
                    const text = span ? span.textContent.toLowerCase() : ''; 
                    const buttonText = button.id.toLowerCase();

                    if (text.includes(query) || buttonText.includes(query)) { 
                        button.style.display = 'flex'; 
                        visibleButtons++; 
                    } else { 
                        button.style.display = 'none'; 
                    } 
                }); 
                const h2 = section.querySelector('h2');
                if(h2) h2.style.display = visibleButtons > 0 ? 'block' : 'none'; 
            }); 
        } 
        window.handleSearch = handleSearch; // –î–µ–ª–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω–æ–π

        function toggleFavorite(event, buttonId) { 
            event.stopPropagation(); 
            const favorites = getLocalStorage('chaterlabFavorites', []); 
            const button = document.getElementById(buttonId); 
            const favToggle = button.querySelector('.favorite-toggle'); 

            if (favorites.includes(buttonId)) { 
                const index = favorites.indexOf(buttonId); 
                favorites.splice(index, 1); 
                favToggle.classList.remove('is-favorite'); 
            } else { 
                favorites.push(buttonId); 
                favToggle.classList.add('is-favorite'); 
            } 
            setLocalStorage('chaterlabFavorites', favorites); 
            window.renderFavorites(); 
        } 
        window.toggleFavorite = toggleFavorite; // –î–µ–ª–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω–æ–π

        function renderFavorites() { 
            const favorites = getLocalStorage('chaterlabFavorites', []); 
            document.querySelectorAll('.sidebar-section').forEach(section => { 
                const buttons = Array.from(section.querySelectorAll('button')); 
                buttons.forEach(button => {
                    const favToggle = button.querySelector('.favorite-toggle');
                    if (favorites.includes(button.id) && favToggle) {
                        favToggle.classList.add('is-favorite');
                    } else if (favToggle) {
                        favToggle.classList.remove('is-favorite');
                    }
                });
                buttons.sort((a, b) => { 
                    const aIsFav = favorites.includes(a.id); 
                    const bIsFav = favorites.includes(b.id); 
                    return bIsFav - aIsFav; 
                }); 
                buttons.forEach(button => section.appendChild(button)); 
            }); 
        } 
        window.renderFavorites = renderFavorites; // –î–µ–ª–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω–æ–π

        function trackClick(buttonId) { 
            const stats = getLocalStorage('chaterlabStats', {}); 
            stats[buttonId] = (stats[buttonId] || 0) + 1; 
            setLocalStorage('chaterlabStats', stats); 
        } 
        window.trackClick = trackClick; // –î–µ–ª–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω–æ–π
        
        function getStats() { console.table(getLocalStorage('chaterlabStats', {})); } 
        window.getStats = getStats; // –î–µ–ª–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω–æ–π

        function setupDarkMode() { 
            const toggle = document.getElementById('theme-checkbox'); 
            const currentTheme = getLocalStorage('chaterlabTheme', 'light'); 
            
            if (currentTheme === 'dark') { 
                document.body.classList.add('dark-mode'); 
                if(toggle) toggle.checked = true; 
            } 

            if(toggle) toggle.addEventListener('change', () => { 
                document.body.classList.toggle('dark-mode'); 
                const theme = document.body.classList.contains('dark-mode') ? 'dark' : 'light'; 
                setLocalStorage('chaterlabTheme', theme); 
            }); 
        } 
        window.setupDarkMode = setupDarkMode; // –î–µ–ª–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω–æ–π

        // ===================================================================================
        // MOBILE VIEW TOGGLE
        // ===================================================================================
        function toggleMobileView(view) {
            const main = document.querySelector('main');
            const switchButtons = document.getElementById('switchButtons');
            const switchInstructions = document.getElementById('switchInstructions');

            const isMobile = window.innerWidth <= 768;

            if (isMobile) {
                if (view === 'buttons') {
                    main.classList.add('sidebar-visible');
                    main.classList.remove('info-visible');
                    if (switchButtons) switchButtons.classList.add('active');
                    if (switchInstructions) switchInstructions.classList.remove('active');
                } else if (view === 'instructions') {
                    main.classList.add('info-visible');
                    main.classList.remove('sidebar-visible');
                    if (switchInstructions) switchInstructions.classList.add('active');
                    if (switchButtons) switchButtons.classList.remove('active');
                }
            } else {
                // –ù–∞ –¥–µ—Å–∫—Ç–æ–ø–µ: —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –∫–ª–∞—Å—Å—ã, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –æ–±–∞ –±–ª–æ–∫–∞
                main.classList.remove('sidebar-visible', 'info-visible');
                // –°–Ω—è—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å –º–æ–±–∏–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–π
                if (switchButtons) switchButtons.classList.remove('active');
                if (switchInstructions) switchInstructions.classList.remove('active');
            }
        }
        window.toggleMobileView = toggleMobileView; // –î–µ–ª–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω–æ–π
        
        // ===================================================================================
        // –î–ò–ù–ê–ú–ò–ß–ï–°–ö–ê–Ø –ì–ï–ù–ï–†–ê–¶–ò–Ø –ö–ù–û–ü–û–ö
        // ===================================================================================

        /**
         * –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç HTML –¥–ª—è –∫–Ω–æ–ø–∫–∏
         * @param {string} btnKey - –ö–ª—é—á –∫–Ω–æ–ø–∫–∏ (e.g., 'greeting')
         * @param {string} langCode - –ö–æ–¥ —è–∑—ã–∫–∞ (e.g., 'en')
         */
        function generateButtonHTML(btnKey, langCode) {
            const menuData = appData.appMenu[btnKey];
            const buttonId = `btn-${btnKey}-${langCode}`;
            
            const templates = appData.templates[langCode];

            // –ü—Ä–æ–≤–µ—Ä–∫–∞, –µ—Å—Ç—å –ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–Ω–æ–ø–∫–∏
            if (!templates || !templates[menuData.templateKey] || templates[menuData.templateKey].length === 0) {
                 return '';
            }

            return `
                <button id="${buttonId}" onclick="copyAndCycle('${langCode}', '${menuData.templateKey}', '${buttonId}')">
                    ${copySvg}
                    <span data-key="${menuData.labelKey}"></span>
                    <div class="favorite-toggle" onclick="toggleFavorite(event, '${buttonId}')">${starSvg}</div>
                </button>
            `;
        }

        /**
         * –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–Ω–æ–ø–∫–∏ –≤ —Å–∞–π–¥–±–∞—Ä–µ, –∏—Å–ø–æ–ª—å–∑—É—è appData.appMenu
         */
        function renderSidebarButtons() {
            const engSection = document.getElementById('eng-section');
            const ruSection = document.getElementById('ru-section');
            
            // –û—á–∏—â–∞–µ–º —Å–µ–∫—Ü–∏–∏ (–∫—Ä–æ–º–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤)
            Array.from(engSection.children).slice(1).forEach(child => child.remove());
            Array.from(ruSection.children).slice(1).forEach(child => child.remove());
            
            const menuKeys = Object.keys(appData.appMenu);

            menuKeys.forEach(btnKey => {
                // English Buttons
                const btnEn = generateButtonHTML(btnKey, 'en');
                if (btnEn) engSection.insertAdjacentHTML('beforeend', btnEn);

                // Russian Buttons
                const btnRu = generateButtonHTML(btnKey, 'ru');
                if (btnRu) ruSection.insertAdjacentHTML('beforeend', btnRu);
            });
            
            window.renderFavorites(); 
        }
        window.renderSidebarButtons = renderSidebarButtons; // –î–µ–ª–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω–æ–π
        
        // =================================================================================== 
        // DYNAMIC CONTENT & EVENT LISTENERS 
        // =================================================================================== 
        
        // –ó–¥–µ—Å—å –æ—Å—Ç–∞–ª—Å—è —Ç–æ–ª—å–∫–æ –≤—ã–∑–æ–≤ DOMContentLoaded, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
        
        window.addEventListener('resize', () => {
             const main = document.querySelector('main');
             const activeView = main.classList.contains('info-visible') ? 'instructions' : 'buttons';
             window.toggleMobileView(activeView);
        });
        

        document.addEventListener('DOMContentLoaded', () => { 
            const loggedIn = checkLogin(); 
            document.getElementById('login-form').addEventListener('submit', window.handleLogin); 
            document.getElementById('searchInput').addEventListener('input', window.handleSearch); 
            
            const initialLang = getInitialLanguage(); 
            window.switchLanguage(initialLang); 

            if (loggedIn) { 
                window.toggleMobileView('buttons'); 
                window.setupDarkMode(); 
                window.renderFavorites(); 
            } else {
                document.getElementById('login-screen').style.display = 'flex';
            }
        }); 

    </script> 
</body> 
</html>
